/** Kinoarhiv v3.1.0 - Kinoarhiv component for Joomla - https://киноархив.com/ - License GPL-2.0 - Author : Viper / https://киноархив.com/ */
jQuery(document).ready(function(e){var t={place:"insertAfter",replace:!0};e.fn.lazyload&&e("img.lazy").lazyload({threshold:200}),e.fn.colorbox&&e(".thumb .item a, .album-art").colorbox({maxHeight:"90%",maxWidth:"90%",photo:!0}),e(".rateit").bind("over",function(t,a){e(this).attr("title",a)}).bind("rated",function(){var a=e(this),s=a.rateit("value"),r=a.next().next();e.ajax({url:a.data("rateit-url")+"&task="+e(this).data("rateit-content").toLowerCase()+".vote",data:{value:s,id:a.data("rateit-id")}}).done(function(a){a.success?(e(".my_vote .vote_rate_current").text(s),e(".my_vote, .my_votes").show(),Aurora.message([{text:a.message,type:"success"}],r,t)):Aurora.message([{text:a.message,type:"alert"}],r,t)}).fail(function(e,a,s){Aurora.message([{text:s,type:"error"}],r,t)})}).bind("reset",function(){var a=e(this).next().next();e.ajax({url:e(this).data("rateit-url")+"&task="+e(this).data("rateit-content").toLowerCase()+".votesRemove",data:{"id[]":e(this).data("rateit-id")}}).done(function(s){s.success?(e(".my_vote").hide(),Aurora.message([{text:s.message,type:"success"}],a,t)):Aurora.message([{text:s.message,type:"alert"}],a,t)}).fail(function(e,s,r){Aurora.message([{text:r,type:"error"}],a,t)})}),e("#checkall-toggle").click(function(){e(this).is(":checked")?e(".items-list tbody :checkbox").prop("checked",!0):e(".items-list tbody :checkbox").prop("checked",!1)}),e("#profileForm").submit(function(a){return 0===e("input",this).filter(":checked").length?(Aurora.message([{text:KA_vars.language.JLIB_HTML_PLEASE_MAKE_A_SELECTION_FROM_THE_LIST,type:"error"}],"#profileForm",t),!1):confirm(KA_vars.language.COM_KA_REMOVE_SELECTED+"?")?void 0:!1}),e(".hasTooltip").attr("data-uk-tooltip",""),e(".cmd-favorite, .cmd-watched").click(function(a){a.preventDefault();var s=e(this),r="undefined"==typeof s.data("ka-msg-place")?"#system-message-container":s.closest(s.data("ka-msg-place"));e.ajax({url:s.attr("href")}).done(function(e){e.success?(Aurora.message([{text:e.message,type:"success"}],r,t),s.text(e.text),s.attr("href",e.url),s.hasClass("delete")?s.removeClass("delete").addClass("add"):s.removeClass("add").addClass("delete")):Aurora.message([{text:KA_vars.language.JERROR_AN_ERROR_HAS_OCCURRED,type:"error"}],r,t)}).fail(function(e,a,s){Aurora.message([{text:s,type:"error"}],r,t)})})});