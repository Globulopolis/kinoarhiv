/** Kinoarhiv v3.1.0 - Kinoarhiv component for Joomla - https://киноархив.com/ - License GPL-2.0 - Author : Viper / https://киноархив.com/ */
jQuery(document).ready(function(e){e.fn.lazyload&&e("img.lazy").lazyload({threshold:200}),e.fn.colorbox&&e(".thumb .item a, .album-art").colorbox({maxHeight:"90%",maxWidth:"90%",photo:!0}),e(".rateit").bind("over",function(t,a){e(this).attr("title",a)}),e(".rate .rateit").bind("rated reset",function(t){var a=e(this),r=a.rateit("value"),s=a.data("url"),o=e(".my_vote").next();e.ajax({type:"POST",url:s,data:{value:r}}).done(function(t){var a=e(".rate .my_votes"),s=e(".rate .my_vote");a.is(":hidden")&&a.show(),0!==r?(s.is(":hidden")&&s.show(),e(".rate .my_vote span.small").text(KA_vars.language.COM_KA_RATE_MY_CURRENT+r)):e(".rate .my_vote span").text("").parent().hide(),Aurora.message([{text:t.message,type:"success"}],o,{place:"insertAfter",replace:!0})}).fail(function(e,t,a){Aurora.message([{text:a,type:"error"}],o,{place:"insertAfter",replace:!0})})}),e("#checkall-toggle").click(function(){e(this).is(":checked")?e(".items-list tbody :checkbox").prop("checked",!0):e(".items-list tbody :checkbox").prop("checked",!1)}),e("#profileForm").submit(function(t){return 0===e("input",this).filter(":checked").length?(Aurora.message([{text:KA_vars.language.JLIB_HTML_PLEASE_MAKE_A_SELECTION_FROM_THE_LIST,type:"error"}],"#profileForm",{place:"insertAfter",replace:!0}),!1):void 0}),e(".hasTip, .hasTooltip").attr("data-uk-tooltip",""),e(".cmd-favorite, .cmd-watched").click(function(t){t.preventDefault();var a=e(this),r="undefined"==typeof a.data("ka-msg-place")?"#system-message-container":a.closest(a.data("ka-msg-place"));e.ajax({url:a.attr("href")}).done(function(e){e.success?(Aurora.message([{text:e.message,type:"success"}],r,{place:"insertAfter",replace:!0}),a.text(e.text),a.attr("href",e.url),a.hasClass("delete")?a.removeClass("delete").addClass("add"):a.removeClass("add").addClass("delete")):Aurora.message([{text:KA_vars.language.JERROR_AN_ERROR_HAS_OCCURRED,type:"error"}],r,{place:"insertAfter",replace:!0})}).fail(function(e,t,a){Aurora.message([{text:a,type:"error"}],r,{place:"insertAfter",replace:!0})})})});