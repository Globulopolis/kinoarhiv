/** Kinoarhiv v3.1.0 - Kinoarhiv component for Joomla - https://киноархив.com/ - License GPL-2.0 - Author : Viper / https://киноархив.com/ */
jQuery(document).ready(function(e){var t={replace:!0};e.fn.lazyload&&e("img.lazy").lazyload({threshold:200}),e.fn.colorbox&&e(".thumb .item a, .album-art").colorbox({maxHeight:"90%",maxWidth:"90%",photo:!0}),e(".rateit").bind("over",function(t,a){e(this).attr("title",a)}).bind("rated",function(){var a=e(this),r=a.rateit("value"),s=a.next().next();e.ajax({url:a.data("rateit-url")+"&task="+e(this).data("rateit-content").toLowerCase()+".vote",data:{value:r,id:a.data("rateit-id")}}).done(function(a){a.success?(e(".my_vote .vote_rate_current").text(r),e(".my_vote, .my_votes").show(),Aurora.message([{text:a.message,type:"success"}],s,t)):Aurora.message([{text:a.message,type:"alert"}],s,t)}).fail(function(e,a,r){Aurora.message([{text:r,type:"error"}],s,t)})}).bind("reset",function(){var a=e(this).next().next();e.ajax({url:e(this).data("rateit-url")+"&task="+e(this).data("rateit-content").toLowerCase()+".votesRemove",data:{"id[]":e(this).data("rateit-id")}}).done(function(r){r.success?(e(".my_vote").hide(),Aurora.message([{text:r.message,type:"success"}],a,t)):Aurora.message([{text:r.message,type:"alert"}],a,t)}).fail(function(e,r,s){Aurora.message([{text:s,type:"error"}],a,t)})}),e("#checkall-toggle").click(function(){e(this).is(":checked")?e(".items-list tbody :checkbox").prop("checked",!0):e(".items-list tbody :checkbox").prop("checked",!1)}),e("#profileForm").submit(function(a){return 0===e("input",this).filter(":checked").length?(Aurora.message([{text:KA_vars.language.JLIB_HTML_PLEASE_MAKE_A_SELECTION_FROM_THE_LIST,type:"error"}],"#profileForm",t),!1):confirm(KA_vars.language.COM_KA_REMOVE_SELECTED+"?")?void 0:!1}),e(".hasTooltip").attr("data-uk-tooltip",""),e(".cmd-favorite, .cmd-watched").click(function(a){a.preventDefault();var r=e(this),s="undefined"==typeof r.data("ka-msg-place")?"#system-message-container":r.closest(r.data("ka-msg-place"));e.ajax({url:r.attr("href")+"&format=json"}).done(function(e){e.success?(Aurora.message([{text:e.message,type:"success"}],s,t),r.text(e.text),r.attr("href",e.url),r.hasClass("delete")?r.removeClass("delete").addClass("add"):r.removeClass("add").addClass("delete")):Aurora.message([{text:KA_vars.language.JERROR_AN_ERROR_HAS_OCCURRED,type:"error"}],s,t)}).fail(function(e,a,r){Aurora.message([{text:r,type:"error"}],s,t)})}),e(".cmd-delete-review").click(function(t){return confirm(e(this).text()+"?")})});